Refactored to separate the validations from the repository actions
